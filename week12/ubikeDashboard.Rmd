---
title: "Ubike"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(leaflet)

```

```{r}
ubikeMap = readRDS("ubikeMap.Rds")
htmltools::tags$script(
  id="youbike-data",
  type="application/json",
  ubikeMap$dataMerged[,c("lat","lng")] |> jsonlite::toJSON(auto_unbox = T)
)

htmltools::includeScript("./js/init.js")
htmltools::includeScript("./js/helper.js")
htmltools::includeScript("./js/DOMready.js")
```


Column {data-width=350}
-----------------------------------------------------------------------

### Chart A

```{r}
leaflet() %>% addProviderTiles(providers$CartoDB.Positron) %>% addMarkers(lng=121.5, lat=25.05, popup="Taipei") -> m
m
```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}
htmltools::div(id="map", style="height:100%")
```

